# begin VFM rules

# 1. Nonaktifkan Directory Listing (Keamanan)
Options -Indexes

# 2. Blokir eksekusi PHP secara menyeluruh
<FilesMatch "\.php$">
    # Matikan engine PHP untuk mod_php (PHP 5, 7, 8+)
    <IfModule mod_php5.c>
        php_flag engine off
    </IfModule>
    <IfModule mod_php7.c>
        php_flag engine off
    </IfModule>
    <IfModule mod_php.c>
        php_flag engine off
    </IfModule>

    # Paksa server memperlakukan file PHP sebagai file biasa (plain text)
    # Ini berlaku untuk PHP-FPM, FastCGI, dan mod_php
    SetHandler default-handler
    
    # Hapus handler khusus (safety net)
    RemoveHandler .php
    
    # Nonaktifkan CGI
    Options -ExecCGI
</FilesMatch>

# 3. Opsional: Tolak akses total ke file PHP (Paling Aman)
# Jika diaktifkan, user tidak bisa mengakses file .php sama sekali (Error 403),
# bahkan untuk melihat source code. Hapus komentar (#) di bawah jika ingin diterapkan.
# <FilesMatch "\.php$">
#     Order Allow,Deny
#     Deny from all
# </FilesMatch>

# end VFM rules